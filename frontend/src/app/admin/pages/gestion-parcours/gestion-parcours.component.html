<div class="container">

  <!-- Filtre type de parcours 
  <div class="filter-bar">
    <label>Filtrer par type :</label>
    <button *ngFor="let type of parcoursTypes"
            [class.active]="currentParcoursType === type"
            (click)="changeParcoursType(type)">
      {{ type }}
    </button>
  </div>  -->

  <h2>{{ parcoursTypeLabel }}</h2>

  <!-- Loading spinner -->
  <div *ngIf="loading" class="spinner">Chargement...</div>
  <div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>

  <!-- Vue d’ensemble des étudiants -->
  <table *ngIf="!loading && studentsOverview.length > 0" class="students-table">
    <thead>
      <tr>
        <th>Nom</th>
        <th>Email</th>
        <th>Formation</th>
        <th>Moyenne Tests</th>
        <th>Tests Passés</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let student of studentsOverview">
        <td>{{ student.nomComplet }}</td>
        <td>{{ student.email }}</td>
        <td>{{ student.formationActuelle }}</td>
        <td>
          <div class="progress-bar">
            <div class="progress-fill" [style.width.%]="student.moyenneGeneraleTests"></div>
          </div>
          {{ student.moyenneGeneraleTests | number:'1.0-0' }}%
        </td>
        <td>{{ student.testsPasses }}</td>
        <td>
          <button (click)="viewStudentDetail(student.studentId)">
            Voir détail
          </button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- Détail étudiant -->
  <app-student-detail 
  *ngIf="selectedStudentJourney"
  [studentJourney]="selectedStudentJourney"
  (close)="closeDetailView()">
</app-student-detail>

  

</div>
