<!-- Fichier : src/app/pages/matieres-reprendre/matieres-reprendre.component.html -->

<div class="container-fluid mt-4">
  <div class="card">
    <div class="card-header d-flex justify-content-between align-items-center">
      <h4 class="mb-0">Matières à reprendre pour {{ etudiantNom || 'l\'apprenant' }}</h4>
      <div class="w-50">
        <input type="text" class="form-control" placeholder="Rechercher une matière par nom ou code..." (input)="onSearch($event)">
      </div>
    </div>
    <div class="card-body">
      
      <div *ngIf="isLoading" class="text-center py-5">
        <div class="spinner-border"></div>
      </div>

      <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>

      <div *ngIf="!isLoading && !errorMessage" class="table-responsive">
        <table class="table table-hover">
          <thead>
            <tr>
              <th>UE</th>
              <th>EC</th>
              <th>Coefficient</th>
              <th>Syllabus</th>
              <th>Status</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngIf="matieresFiltrees.length === 0">
              <td colspan="6" class="text-center text-muted">Aucune matière trouvée.</td>
            </tr>
            <tr *ngFor="let matiere of matieresFiltrees">
              <td>{{ matiere.nomUe }} ({{ matiere.codeUe }})</td>
              <td>{{ matiere.nomEc }} ({{ matiere.codeEc }})</td>
              <td>{{ matiere.coefficient }}</td>
              <td>
                 <a [routerLink]="['/app/curriculum/matieres', matiere.id]" class="text-primary fw-bold">Syllabus</a>
              </td>
              <td><span class="badge bg-secondary">{{ matiere.statut }}</span></td>
              <td>
                <!-- Icônes d'action (à implémenter plus tard) -->
                <button class="btn btn-sm btn-icon"><i class="fas fa-edit"></i></button>
                <button class="btn btn-sm btn-icon"><i class="fas fa-download"></i></button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
