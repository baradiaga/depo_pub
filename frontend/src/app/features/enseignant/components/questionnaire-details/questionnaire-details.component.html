<div class="questionnaire-details">
  <!-- Informations générales -->
  <h2>Détails du questionnaire</h2>

  <div *ngIf="questionnaire">
    <p><strong>Titre :</strong> {{ questionnaire.titre }}</p>
    <p><strong>Description :</strong> {{ questionnaire.description }}</p>
    <p><strong>Durée :</strong> {{ questionnaire.duree }} minutes</p>
    <p><strong>Chapitre :</strong> {{ questionnaire.nomChapitre }}</p>
    <p><strong>Matière :</strong> {{ questionnaire.nomMatiere }}</p>
    <p><strong>Nombre de questions :</strong> {{ questionnaire.nombreQuestions }}</p>
  </div>

  <!-- Liste des tests associés -->
  <h3>Tests associés</h3>
  <table class="table table-striped" *ngIf="tests.length > 0; else noTests">
    <thead>
      <tr>
        <th>ID</th>
        <th>Titre</th>
        <th>Durée</th>
        <th>Description</th>
        <th class="text-center">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let test of tests">
        <td>{{ test.id }}</td>
        <td>{{ test.titre }}</td>
        <td>{{ test.duree || '-' }}</td>
        <td>{{ test.description || '-' }}</td>
        <td class="text-center">
          <button class="btn btn-sm btn-warning me-2" (click)="updateTest(test)">Modifier</button>
          <button class="btn btn-sm btn-danger" (click)="deleteTest(test.id)">Supprimer</button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- Message si aucun test -->
  <ng-template #noTests>
    <p>Aucun test associé à ce questionnaire.</p>
  </ng-template>

  <!-- Bouton pour ajouter un test -->
  <div class="mt-3">
    <button class="btn btn-sm btn-primary" (click)="createTest()">Ajouter un test</button>
  </div>
</div>
